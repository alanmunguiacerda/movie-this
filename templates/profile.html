{% extends 'base.html' %}

{% block title %}
    {{user.username}}'s profile
{% endblock %}

{% block poshead %}
    <script type="text/javascript">
        function checkPass()
        {
            var pass1 = document.getElementById('newPass');
            var pass2 = document.getElementById('newPassR');
            var button = document.getElementById('changePass');
            var correcto = "#4CAF50";
            var incorrecto = "#F44336";
            if(pass1.value == pass2.value){
                pass2.style.borderColor = correcto;
                button.disabled = false;
            }else{
                pass2.style.borderColor = incorrecto;
                button.disabled = true;
            }
        }
    </script>
{% endblock%}

{% block contentL %}
  <div class="card-panel divider-color">
    <div  id="profile" class="card-content primary-text-color">
      <span class="card-title size-36">Profile</span>
          <form method="post" action="">{% csrf_token %}
              <div class="row">
                  <div class="input-field col s12 m6 l6">
                      <input id="username" type="text" palceholder="" value="{{user.username}}" disabled="true"></input>
                      <label for="username" class="secondary-text-color">Username</label>
                  </div>
                  <div class="input-field col s12 m6 l6">
                      <input id="email" name="email" type="email" palceholder="" value="{{user.email}}" class="validate" required="true" maxlength="100" length="100"></input>
                      <label for="email" class="secondary-text-color">Email</label>
                  </div>
                  <div class="input-field col s12 m6 l6">
                      <input id="firstname" name="firstname" type="text" palceholder="" value="{{user.first_name}}" class="validate" maxlength="50" length="50"></input>
                      <label for="firstname" class="secondary-text-color">First Name</label>
                  </div>
                  <div class="input-field col s12 m6 l6">
                      <input id="lastname" name="lastname" type="text" palceholder="" value="{{user.last_name}}" class="validate" maxlength="50" length="50"></input>
                      <label for="lastname" class="secondary-text-color">Last Name</label>
                  </div>
                  <div class="input-field col s12 m6 l6">
                      <input id="datejoined" type="text" palceholder="" value="{{user.date_joined}}" disabled="true"></input>
                      <label for="datejoined" class="secondary-text-color">Date joined</label>
                  </div>
                  <div class="input-field col s12 m6 l6">
                      <input id="lastlogin" type="text" palceholder="" value="{{user.last_login}}" disabled="true"></input>
                      <label for="lastlogin" class="secondary-text-color">Last login</label>
                  </div>
                  <div class="input-field col s12 center-align">
                      <button id="updateDat" class="btn waves-effect waves-light" type="submit" name="type" value="updateDat">Update<i class="fi-play right"></i></button>
                  </div>
              </div>
          </form>
      </div>

  </div>

{% endblock %}
{% block contentR %}
  <div class="card accent-color">
      <div class="card-content text-primary-color">
      <span class="card-title">Change password</span>
          <form method="post" action="">{% csrf_token %}
              <div class="row">
                  <div class="input-field" col s12>

                  </div>
                  <div class="input-field col s12">
                      <i class="fi-unlock prefix left"></i>
                      <input id="actPass" name="actPass" type="password" class="validate" required="true"></input>
                      <label for="actPass" class="text-primary-color">Actual password</label>
                  </div>
                  <div class="input-field col s12">
                      <i class="fi-lock prefix left"></i>
                      <input id="newPass" name="newPass" type="password" class="validate" onkeyup="checkPass();" required="true"></input>
                      <label for="newPass" class="text-primary-color">New password</label>
                  </div>
                  <div class="input-field col s12">
                      <i class="fi-lock prefix left"></i>
                      <input id="newPassR" name="newPassR" type="password" class="validate" onkeyup="checkPass();" required="true"></input>
                      <label for="newPassR" class="text-primary-color">Repeat new password</label>
                  </div>
                  <div class="input-field col s12 center-align">
                      <button id="changePass" class="btn waves-effect waves-light" type="submit" name="type" value="changePass">Change<i class="fi-play right"></i></button>
                  </div>
              </div>
          </form>
      </div>
  </div>

  <div class="card accent-color">
    <div class="card-content text-primary-color">
      <span class="card-title size-36">Change picture</span>
        <form method="post" action="" enctype="multipart/form-data">{% csrf_token %}
          <div class="row">
            <div class="file-field input-field">
              <div class="btn">
                <span>File</span>
                <input type="file" name="filePhoto">
              </div>
              <div class="file-path-wrapper">
                <input class="file-path validate" type="text" required="true" accept="image/jpeg, image/x-png ">
              </div>
            </div>
            <div class="input-field col s12 center-align">
                <button id="changePass" class="btn waves-effect waves-light" type="submit" name="type" value="uploadPhoto">Change<i class="fi-play right"></i></button>
            </div>
          </div>
        </form>
    </div>
  </div>
{% endblock %}
{% block extraScript %}
{% endblock %}
